<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chip Tycoon 3D</title>
    <link rel="stylesheet" href="styles.css">
    <script type="importmap">
    {
        "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/",
            "lil-gui": "https://cdn.jsdelivr.net/npm/lil-gui@0.19.1/dist/lil-gui.esm.js"
        }
    }
    </script>
</head>
<body>
    <div id="game-container">
        <div id="scene-container"></div>
        
        <div id="hud">
            <div id="top-bar">
                <div id="money-container">
                    <span id="money-label">üíµ</span>
                    <span id="money-value">0</span>
                </div>
                <div id="income-container">
                    <span id="income-label">üí∏</span>
                    <span id="income-value">0</span>/s
                </div>
                <div id="language-toggle">
                    <button id="ru-lang" class="lang-btn active">–†–£</button>
                    <button id="en-lang" class="lang-btn">EN</button>
                    <button id="help-btn" class="help-btn" title="Help">?</button>
                </div>
            </div>
            
            <div id="tabs">
                <button id="chips-tab" class="tab-btn active" data-tab="chips-panel">
                    <span data-lang-key="chips">–ß–∏–ø—ã</span>
                </button>
                <button id="shop-tab" class="tab-btn" data-tab="shop-panel">
                    <span data-lang-key="shop">–ú–∞–≥–∞–∑–∏–Ω</span>
                </button>
                <button id="merge-tab" class="tab-btn" data-tab="merge-panel">
                    <span data-lang-key="merge">–°–∏–Ω—Ç–µ–∑</span>
                </button>
            </div>
            
            <div id="panels">
                <button id="hide-tabs-btn" class="hide-btn" style="display: none;" data-lang-key="hide">–°–∫—Ä—ã—Ç—å –≤–∫–ª–∞–¥–∫–∏</button>
                
                <div id="chips-panel" class="panel active">
                    <h2 data-lang-key="installed-chips">–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —á–∏–ø—ã</h2>
                    <div id="installed-chips" class="chip-grid"></div>
                    <h3 data-lang-key="inventory">–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</h3>
                    <div id="inventory-chips" class="chip-grid"></div>
                </div>
                
                <div id="shop-panel" class="panel">
                    <h2 data-lang-key="basic-chips">–ë–∞–∑–æ–≤—ã–µ —á–∏–ø—ã</h2>
                    <div id="shop-chips" class="chip-grid">
                        <div class="shop-chip" data-type="basic">
                            <div class="chip-preview basic"></div>
                            <div class="chip-details">
                                <div class="chip-name" data-lang-key="basic-chip">–û–±—ã—á–Ω—ã–π —á–∏–ø</div>
                                <div class="chip-price">$100</div>
                                <div class="chip-income">+1/s</div>
                            </div>
                            <button class="buy-btn" data-lang-key="buy">–ö—É–ø–∏—Ç—å</button>
                        </div>
                    </div>
                </div>
                
                <div id="merge-panel" class="panel">
                    <h2 data-lang-key="merge-chips">–°–∏–Ω—Ç–µ–∑ —á–∏–ø–æ–≤</h2>
                    <div id="merge-container">
                        <div id="merge-slots">
                            <div id="merge-slot-1" class="merge-slot" data-slot="1">
                                <div class="merge-placeholder" data-lang-key="drop-chip">–ü–æ–º–µ—Å—Ç–∏—Ç–µ —á–∏–ø</div>
                            </div>
                            <div class="merge-plus">+</div>
                            <div id="merge-slot-2" class="merge-slot" data-slot="2">
                                <div class="merge-placeholder" data-lang-key="drop-chip">–ü–æ–º–µ—Å—Ç–∏—Ç–µ —á–∏–ø</div>
                            </div>
                        </div>
                        <button id="merge-btn" class="merge-btn" disabled data-lang-key="merge-action">–°–∏–Ω—Ç–µ–∑–∏—Ä–æ–≤–∞—Ç—å</button>
                        <button id="clear-merge-btn" class="clear-btn" data-lang-key="clear">–û—á–∏—Å—Ç–∏—Ç—å</button>
                    </div>
                    <h3 data-lang-key="inventory">–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</h3>
                    <div id="merge-inventory-chips" class="chip-grid"></div>
                </div>
            </div>
        </div>
    </div>
    
    <div id="chip-info-popup" class="popup">
        <div class="popup-content">
            <span class="close-popup">&times;</span>
            <h2 id="popup-chip-name" class="popup-title"></h2>
            <div class="popup-chip-preview"></div>
            <div class="popup-chip-details">
                <div class="chip-details-grid">
                    <div class="chip-details-label" data-lang-key="rarity">–†–µ–¥–∫–æ—Å—Ç—å</div>
                    <div class="chip-details-value" id="popup-chip-rarity"></div>
                    
                    <div class="chip-details-label" data-lang-key="power">–í—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–∞—è –º–æ—â–Ω–æ—Å—Ç—å</div>
                    <div class="chip-details-value" id="popup-chip-power"></div>
                    
                    <div class="chip-details-label" data-lang-key="income">–î–æ—Ö–æ–¥</div>
                    <div class="chip-details-value positive" id="popup-chip-income"></div>
                    
                    <div class="chip-details-label" data-lang-key="sell-price">–¶–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏</div>
                    <div class="chip-details-value price" id="popup-chip-sell-price"></div>
                </div>
            </div>
            <div class="popup-actions">
                <button id="popup-install-btn" class="install-btn" data-lang-key="install">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
                <button id="popup-sell-btn" data-lang-key="sell">–ü—Ä–æ–¥–∞—Ç—å</button>
            </div>
        </div>
    </div>
    
    <div id="merge-result-popup" class="popup">
        <div class="popup-content">
            <h2 data-lang-key="merge-success">–°–∏–Ω—Ç–µ–∑ —É—Å–ø–µ—à–µ–Ω!</h2>
            <div class="popup-chip-preview" id="new-chip-preview"></div>
            <div class="popup-chip-details">
                <p><span data-lang-key="new-chip">–ù–æ–≤—ã–π —á–∏–ø</span>: <span id="new-chip-name"></span></p>
                <p><span data-lang-key="rarity">–†–µ–¥–∫–æ—Å—Ç—å</span>: <span id="new-chip-rarity"></span></p>
                <p><span data-lang-key="power">–í—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–∞—è –º–æ—â–Ω–æ—Å—Ç—å</span>: <span id="new-chip-power"></span></p>
                <p><span data-lang-key="income">–î–æ—Ö–æ–¥</span>: <span id="new-chip-income"></span>/s</p>
            </div>
            <button id="merge-result-close" data-lang-key="great">–û—Ç–ª–∏—á–Ω–æ!</button>
        </div>
    </div>
    
    <div id="toast-container"></div>
    
    <script type="module" src="game.js"></script>
</body>
</html>